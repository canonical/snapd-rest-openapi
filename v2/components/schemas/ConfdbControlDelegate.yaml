# SPDX-FileCopyrightText: 2026 Canonical Ltd
# SPDX-License-Identifier: GPL-3.0-only

type: object
description: |-
  Request to delegate remote access to confdb views for an operator.
required:
  - action
  - operator-id
  - authentications
  - views
properties:
  action:
    type: string
    enum:
      - delegate
    description: The action to perform.
  operator-id:
    type: string
    description: The account ID of the operator to delegate access to.
    example: alice
  authentications:
    type: array
    description: |-
      Determines how request messages are signed. With `operator-key`, the
      operator signs messages directly. With `store`, the Store signs on their
      behalf.
    items:
      type: string
      enum:
        - operator-key
        - store
    minItems: 1
    example:
      - operator-key
  views:
    type: array
    description: |-
      The confdb views to delegate access to. Each view is specified in the
      format `<account-id>/<schema>/<view-name>`.
    items:
      type: string
    minItems: 1
    example:
      - bob/network/observe-wifi
