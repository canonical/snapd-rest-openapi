# SPDX-FileCopyrightText: 2026 Canonical Ltd
# SPDX-License-Identifier: GPL-3.0-only

type: object
description: |-
  Request to withdraw an operator's remote access to confdb views.
required:
  - action
  - operator-id
properties:
  action:
    type: string
    enum:
      - undelegate
    description: The action to perform.
  operator-id:
    type: string
    description: The account ID of the operator to withdraw access from.
    example: alice
  authentications:
    type: array
    description: |-
      The authentication methods to withdraw. If omitted, all authentication
      methods are withdrawn.
    items:
      type: string
      enum:
        - operator-key
        - store
    example:
      - store
  views:
    type: array
    description: |-
      The confdb views to withdraw access from. Each view is specified in the
      format `<account-id>/<schema>/<view-name>`. If omitted, access to all
      views is withdrawn.
    items:
      type: string
    example:
      - bob/network/control-wifi
